{"version":3,"sources":["lib/services/auth-service.js","lib/AuthProvider.js","components/Navbar/Navbar.js","components/ExploreBar/ExploreBar.js","lib/services/user-services.js","components/LoadingGif.js","lib/services/painting-service.js","components/Image.js","components/ListPainting/ListPainting.js","views/Home/Home.js","views/Auth pages/Login/Login.js","views/Auth pages/Signup/Signup.js","components/ProfileDisplay/ProfileDisplay.js","views/Profile.js","components/AddPainting/Tag.js","components/DetailsPainting/DetailsPainting.js","views/Painting.js","components/Chats/ChatsDisplay.js","views/Chats.js","components/AddPainting/AddPaintingForm.js","views/AddPaintings.js","components/EditPainting/EditForm.js","views/Edit.js","lib/services/chat-service.js","components/chat/ChatMain/ChatMain.js","components/chat/ChatForm/ChatForm.js","views/Chat.js","components/a_Route Components/AnonRoute.js","components/a_Route Components/PrivateRoute.js","App.js","serviceWorker.js","actiontypes/chat-comment.js","reducers/chat-comment.js","index.js","lib/config/defaultProfilePic.js"],"names":["baseURL","process","axiosRequestFunctions","this","auth","axios","create","withCredentials","user","username","password","image","post","then","data","catch","err","console","log","response","get","file","React","createContext","Consumer","Provider","withAuth","WrappedComponent","login","signup","logout","isLoggedIn","isLoading","props","Component","AuthProvider","state","userData","authService","setState","me","value","children","profilePic","view","className","onClick","history","goBack","src","alt","style","listStyleType","to","getHomePaintings","_id","id","ExploreBar","getFilteredPaintings","searchbar","document","querySelector","getSortedPaintings","queryStr","e","options","selectedIndex","push","setTimeout","name","defaultValue","onChange","type","placeholder","onMouseOver","onMouseOut","users","res","string","patch","paintingId","LoadingGif","paintings","message","painting","delete","filterStr","updatedPaiting","put","Image","componentWillReceiveProps","includes","width","margin","title","height","frameBorder","allow","mozallowfullscreen","webkitallowfullscreen","mgTouchOffsetY","mgTouchOffsetX","paddingBottom","marginBottom","class","maxHeight","emptyStar","filledStar","PaintingList","componentDidMount","a","async","addEventListener","paintingService","handleLikeAndToggleImageSource","target","setAttribute","classList","remove","add","handleLike","nextProps","userService","addSeen","length","map","i","key","shortid","generate","usersWhoLiked","homePaintings","filter","filteredPaintings","location","search","queryObj","Object","keys","sort","handleFormSubmit","event","preventDefault","handleChange","onSubmit","defaultProfileImagesIndex","Math","floor","random","defaultProfileImages","imageLoaded","match","fileChange","files","uploadData","FormData","append","imageUpload","error","instruction","changeImage","noValidate","encType","htmlFor","ProfileDisplay","refreshProfile","getUser","params","userId","deleteMe","LogoutAndGoToSignup","description","refresh","Tag","changeClassName","text","deleteTag","getDetails","imgData","paintingDetails","timeSince","date","seconds","Date","interval","innerHTML","parseInt","creator","creatorUsername","timesSeen","tags","created_at","game","tag","parse","ChatsDisplay","getUserChatRooms","chats","forEach","chat","otherUserId","getOtherUser","roomId","split","otherUserData","splice","result","join","regExp","RegExp","IMessedUp","color","comments","commentText","newPainting","AddPaintingForm","handleSubmit","required","for","addTagValue","size","handleSelectChange","postPainting","errorMessage","newPaintingCopy","getElementById","fakeTagsInput","fakeTagsInputValue","valueArr","lastCharacterInInput","pop","indexOf","tagsCopy","updatePaintingByPut","ids","creatorId","newCommentData","ChatMain","comment","geolocated","positionOptions","enableHighAccuracy","userDecisionTimeout","newCommenCopy","newComment","preventDefaultAndSendComment","sendComment","commentImage","textAlign","chatService","getChatData","chatData","postComment","updatedChat2","component","rest","render","App","exact","path","Home","Login","Signup","Profile","Chats","Edit","Painting","PaintingsAdd","Chat","Boolean","window","hostname","CHANGE_COMMENT_TEXT","CHANGE_COMMENT_IMAGE","SEND_COMMENT","initialState","store","createStore","action","CommentActionTypes","ReactDOM","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.1eb20142.chunk.js","sourcesContent":["import axios from \"axios\";\n\nconst baseURL= process.env.REACT_APP_API_URL\n\nclass Auth {\n  constructor() {\n    this.auth = axios.create({\n      baseURL: baseURL,\n      withCredentials: true //<-- Goes with CORS credentials\n    });\n  }\n\n  signup(user) {\n    const { username, password, image } = user;\n    return this.auth\n      .post(\"/auth/signup\", { username, password, image })\n      .then(({ data }) => {\n        return data})\n        .catch(err=>{\n          console.log(err)\n          return err})\n  }\n\n  login(user) {\n    const { username, password } = user;\n    return this.auth\n      .post(\"/auth/login\", { username, password })\n      .then(({ data }) => data);\n  }\n\n  logout() {\n    return this.auth.post(\"/auth/logout\", {}).then(response => response.data);\n  }\n\n  me() {\n    return this.auth.get(\"/auth/me\").then(response => response.data);\n  }\n\n  imageUpload(file) {\n    return this.auth.post(\"/auth/signup/image\", file).then(({ data }) => data);\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","import React, { Component } from \"react\";\nimport authService from \"./services/auth-service\";\n\nconst { Consumer, Provider } = React.createContext();\n\n// HOC that creates Consumer/s\nconst withAuth = WrappedComponent => {\n  return class extends React.Component {\n    render() {\n      return (\n        <Consumer>\n          {({ login, signup, user, logout, isLoggedIn, isLoading }) => {\n            return (\n              <WrappedComponent\n                login={login}\n                signup={signup}\n                user={user}\n                logout={logout}\n                isLoggedIn={isLoggedIn}\n                isLoading={isLoading}\n                {...this.props}\n              />\n            );\n          }}\n        </Consumer>\n      );\n    }\n  };\n};\n\n// Provider\nclass AuthProvider extends Component {\n  state = {\n    isLoggedIn: false,\n    isLoading: true,\n    user: null\n  };\n\n  login = userData => {\n    const { username, password } = userData;\n\n    authService\n      .login({ username, password })\n      .then(user => {\n        this.setState({ isLoggedIn: true, user });\n      })\n      .catch(err => console.log(err));\n  };\n\n  signup = userData => {\n    const { username, password, image } = userData;\n\n    return authService\n      .signup({ username, password, image })\n      .then(user => {\n        this.setState({ isLoggedIn: true, user });\n      })\n      .catch(err => console.log(err));\n  };\n\n  logout = () => {\n    return authService\n      .logout()\n      .then(() => {\n        this.setState({ isLoggedIn: false, user: null });\n      })\n      .catch(err => console.log(err));\n  };\n\n  componentDidMount() {\n    authService\n      .me()\n      .then(user => {\n        this.setState({ isLoggedIn: true, isLoading: false, user: user });\n      })\n      .catch(err =>\n        this.setState({ isLoggedIn: false, user: null, isLoading: false })\n      );\n  }\n\n  render() {\n    const { isLoading, isLoggedIn, user } = this.state;\n    const { login, signup, logout } = this;\n\n    return (\n      <div>\n        {false ? ( //isLoading but only in Loading\n          <h1>Loading</h1>\n        ) : (\n          <Provider\n            value={{ isLoading, isLoggedIn, user, login, signup, logout }}\n          >\n            {this.props.children}\n          </Provider>\n        )}\n      </div>\n    );\n  }\n}\n\nexport { Consumer, withAuth };\n\nexport default AuthProvider;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../../lib/AuthProvider\";\nimport \"./Navbar.css\";\n\nclass Navbar extends React.Component {\n  state = {\n    profilePic: \"\"\n  };\n\n  render() {\n    const { user, isLoggedIn, view } = this.props;\n    return (\n      <div className=\"navbar\">\n        {isLoggedIn ? (\n          <ul>\n            {view === \"home\" ? (\n              <li></li>\n            ) : (\n              <li>\n                <img\n                  onClick={() => this.props.history.goBack()}\n                  src=\"https://img.icons8.com/metro/52/000000/back.png\"\n                  alt=\"\"\n                />\n              </li>\n            )}\n\n            {view === \"home\" ? (\n              <li style={{ listStyleType: \"none\" }}>\n                <Link to=\"/\" className=\"navbar-link\">\n                  <h1 onClick={this.props.getHomePaintings}>Paintapop</h1>\n                </Link>\n              </li>\n            ) : (\n              <li style={{ listStyleType: \"none\" }}>\n                <Link to=\"/\" className=\"navbar-link\">Paintapop</Link>\n              </li>\n            )}\n\n            {/* <span className=\"vertical-hr\" /> */}\n\n            <li style={{ listStyleType: \"none\" }}>\n              <Link to={`/profile/${user._id}`} className=\"navbar-link\">\n                <img src={user.image} alt=\"\" id=\"navbar-profile-img\"/>\n              </Link>\n            </li>\n          </ul>\n        ) : (\n          <ul>\n            {view === \"home\" ? (\n              <li></li>\n            ) : (\n              <li>\n                <img\n                  onClick={() => this.props.history.goBack()}\n                  src=\"https://img.icons8.com/metro/52/000000/back.png\"\n                  alt=\"\"\n                />\n              </li>\n            )}\n\n            {view === \"home\" ? (\n              <li style={{ listStyleType: \"none\" }}>\n              <Link to=\"/\" id=\"navbar-title\" className=\"navbar-link-home\"><h3>Paintapop</h3></Link>\n            </li>\n            ) : (\n            <li style={{ listStyleType: \"none\" }}>\n              <Link to=\"/\" id=\"navbar-title\" className=\"navbar-link\"><h3>Paintapop</h3></Link>\n            </li>\n            )}\n            <li style={{ listStyleType: \"none\" }}>\n              <Link to=\"/login\" className=\"navbar-link\">Log In</Link>\n            </li>\n            <li style={{ listStyleType: \"none\" }}>\n              <Link to=\"/signup\" className=\"navbar-link\">Sign up</Link>\n            </li>\n          </ul>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Navbar);\n","import React, { Component } from \"react\";\nimport \"./ExploreBar.css\";\n\nexport default class ExploreBar extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  getFilteredPaintings = () => {\n    const searchbar = document.querySelector(\".explore-searchbar\");\n    this.props.getFilteredPaintings(`?title=${searchbar.value}`);\n  };\n\n  getSortedPaintings = () => {\n    const e = document.querySelector(\".select\");\n    const value = e.options[e.selectedIndex].value;\n    let queryStr;\n    if (value === \"Most liked\") {\n      queryStr = \"?sort=most-liked\";\n    } else if (value === \"Most seen\") {\n      queryStr = \"?sort=most-seen\";\n    } else if (value === \"Newest\") {\n      queryStr = \"?sort=newest\";\n    } else if (value === \"Oldest\") {\n      queryStr = \"?sort=oldest\";\n    }\n    this.props.history.push(queryStr);\n    setTimeout(() => this.props.getFilteredPaintings(), 50);\n  };\n\n  render() {\n    return (\n      <div className=\"exploreBar\">\n        <div>\n          <span>Sort by:</span>\n          <select\n            name=\"\"\n            id=\"\"\n            className=\"select\"\n            onClick={this.getSortedPaintings}\n          >\n            <option defaultValue>Oldest</option>\n            <option>Newest</option>\n            <option>Most liked</option>\n            <option>Most seen</option>\n            {/* <option>Trending</option> */}\n          </select>\n        </div>\n        <div>\n          <input \n          className=\"explore-searchbar\" \n          onChange={this.getFilteredPaintings}\n          type=\"text\" placeholder=\"Search by title\"/>\n          <img\n            onMouseOver={()=>this.getFilteredPaintings}\n            onMouseOut={this.getFilteredPaintings}\n            onClick={()=>{this.getFilteredPaintings()}}\n            id=\"search-magnifying-glass\"\n            src=\"https://img.icons8.com/ios-glyphs/60/000000/search.png\"\n            alt=\"\"\n          />\n        </div>\n        \n            {/* this.getFilteredPaintings()} */}\n      </div>\n    );\n  }\n}\n","import axios from \"axios\";\nconst baseURL= process.env.REACT_APP_API_URL\n\n\nclass Users {\n  constructor() {\n    this.users = axios.create({\n      baseURL: baseURL+\"/users\",\n      withCredentials: true //<-- Goes with CORS credentials\n    });\n  }\n\n  getUser(id) {\n    return this.users.get(`/${id}`).then(res => {\n      res.data.password = \"*\";\n      return res.data;\n    });\n  }\n  handleLike(string) {\n    return this.users.patch(string).then(res => {\n      res.data.password = \"*\";\n      return res.data;\n    });\n  }\n  addSeen(paintingId){\n    return this.users.patch(`/add-seen/${paintingId}`).then(res => {\n      res.data.password = \"*\";\n      return res.data;\n    });\n  }\n  getUserChatRooms(id) {\n    return this.users.get(`/chatrooms/${id}`).then(res => {\n      return res.data;\n    });\n  }\n}\n\nconst axiosRequestFunctions = new Users();\n\nexport default axiosRequestFunctions;\n","import React, { Component } from \"react\";\n\nexport default class LoadingGif extends Component {\n  render() {\n    const { view, className } = this.props;\n    const src =\n      \"https://retchhh.files.wordpress.com/2015/03/loading1.gif?w=300&h=300\";\n    return (\n      <span>\n        {view === \"signup\" ? (\n          <img src={src} className={className} alt=\"\" />\n        ) : (\n          <img src={src} alt=\"\" />\n        )}\n      </span>\n    );\n  }\n}\n","import axios from \"axios\";\nconst baseURL= process.env.REACT_APP_API_URL\n\nclass Auth {\n  constructor() {\n    this.paintings = axios.create({\n      baseURL: baseURL+\"/paintings\",\n      withCredentials: true //<-- Goes with CORS credentials\n    });\n  }\n\n  imageUpload(file) {\n    return this.paintings.post(\"/image\", file).then(({ data }) => data);\n  }\n\n  getDetails(id) {\n    return this.paintings.get(`/${id}`).then(({ data }) => data)\n    .catch(err=>err.message)\n  }\n\n  getHomePaintings() {\n    return this.paintings.get(`/home`).then(({ data }) => {\n      return data;\n    });\n  }\n\n  postPainting(painting) {\n    return this.paintings.post(\"/\", painting).then(({ data }) => {\n      return data;\n    });\n  }\n\n  delete(paintingId) {\n    return this.paintings.delete(`/${paintingId}`);\n  }\n\n  getFilteredPaintings(filterStr) {\n    return this.paintings.get(`/${filterStr}`);\n  }\n\n  updatePaintingByPut(updatedPaiting) {\n    return this.paintings.put(`/${updatedPaiting._id}`, updatedPaiting).then(({data})=>data)\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","import React, { Component } from \"react\";\nimport LoadingGif from \"./LoadingGif\";\nimport Magnifier from \"react-magnifier\";\n\nexport default class Image extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  componentWillReceiveProps = () => {\n    this.setState({});\n  };\n  render() {\n    const { view, src, className } = this.props;\n    return (\n      <span>\n        {!src ? (\n          <LoadingGif />\n        ) : view === \"display\" ? (\n          src.includes(\"sketchfab.com\") ? (\n            <div className=\"sketchfab-embed-wrapper\">\n              <iframe\n                style={{ width: \"200vw\", margin: \"0 0 2vh\" }}\n                title=\"A 3D model\"\n                width=\"640\"\n                height=\"480\"\n                src={src}\n                frameBorder=\"0\"\n                allow=\"autoplay; fullscreen; vr\"\n                mozallowfullscreen=\"true\"\n                webkitallowfullscreen=\"true\"\n              ></iframe>\n            </div>\n          ) : (\n            <Magnifier src={src} mgTouchOffsetY=\"100\" mgTouchOffsetX=\"0\" className={className} height=\"50vh\" width=\"90vw\"/>\n          )\n        ) : view === \"home\" ? (\n          src.includes(\"sketchfab.com\") ? (\n            <div className=\"sketchfab-embed-wrapper\"\n            style={{ width: \"100%\", height: \"22vh\", paddingBottom:\"0\", marginBottom: \"0\" }}\n            >\n              <iframe\n                style={{ width: \"100%\", height: \"22vh\", paddingBottom:\"0\", marginBottom: \"0\" }}\n                title=\"A 3D model\"\n                width=\"640\"\n                height=\"480\"\n                src={src}\n                frameBorder=\"0\"\n                allow=\"autoplay; fullscreen; vr\"\n                mozallowfullscreen=\"true\"\n                webkitallowfullscreen=\"true\"\n              ></iframe>\n            </div>\n          ) : (\n            <img className={className} src={src} alt=\"\" />\n          )\n        ) : view === \"profile\" ? (\n          src.includes(\"sketchfab.com\") ? (\n            <div class=\"sketchfab-embed-wrapper\"\n            style={{ width: \"100%\", height: \"22vh\",maxHeight: \"20vh\", paddingBottom:\"0\", marginBottom: \"0\" }}\n            >\n              <iframe\n                style={{ width: \"20vh\", height: \"22vh\", maxHeight: \"20vh\", paddingBottom:\"0\", marginBottom: \"0\" }}\n                title=\"A 3D model\"\n                width=\"640\"\n                height=\"480\"\n                src={src}\n                frameBorder=\"0\"\n                allow=\"autoplay; fullscreen; vr\"\n                mozallowfullscreen=\"true\"\n                webkitallowfullscreen=\"true\"\n              ></iframe>\n            </div>\n          ) : (\n            <img className={className} src={src} alt=\"\" />\n          )\n        ): view === \"edit\" ? (\n          src.includes(\"sketchfab.com\") ? (\n            <div \n            style={{ width: \"88vw\", height: \"32vh\", paddingBottom:\"0\", marginBottom: \"2vh\" }}\n            >\n              <iframe\n                style={{ width: \"100%\", height: \"32vh\", paddingBottom:\"0\"}}\n                title=\"A 3D model\"\n                width=\"640\"\n                height=\"480\"\n                src={src}\n                frameBorder=\"0\"\n                allow=\"autoplay; fullscreen; vr\"\n                mozallowfullscreen=\"true\"\n                webkitallowfullscreen=\"true\"\n              ></iframe>\n            </div>\n          ) : (\n            <img className={className} src={src} alt=\"\" />\n          )\n        )\n        :\n        null}\n      </span>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport userService from \"./../../lib/services/user-services\";\nimport shortid from \"shortid\";\n\nimport \"./ListPainting.css\";\n\nimport LoadingGif from \"./../LoadingGif\";\nimport paintingService from \"./../../lib/services/painting-service\";\nimport Image from \"./../Image\";\n\nconst emptyStar = \"https://img.icons8.com/ios/50/000000/christmas-star.png\";\nconst filledStar = \"https://img.icons8.com/color/100/000000/filled-star.png\";\n\nexport default class PaintingList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      paintings: props.paintings\n    };\n  }\n\n  componentDidMount = async () => {\n    const navbarTitle = document.querySelector(\"#navbar-title\");\n    if (navbarTitle) {\n      document\n        .querySelector(\"#navbar-title\")\n        .addEventListener(\"click\", async () => {\n          this.setState({\n            paintings: await paintingService.getHomePaintings()\n          });\n        });\n    }\n  };\n\n  componentWillReceiveProps(nextProps) {\n    this.setState({ paintings: nextProps.paintings });\n  }\n\n  handleLikeAndToggleImageSource = e => {\n    let image = e.target.src;\n    if (image === emptyStar) {\n      e.target.setAttribute(\"src\", filledStar);\n      e.target.classList.remove(\"emptyStar\");\n      e.target.classList.add(\"filledStar\");\n      const { user } = this.props;\n      const paintingId = e.target.alt;\n      this.props.handleLike(`/handle-like/like/${user._id}/${paintingId}`);\n    } else {\n      e.target.setAttribute(\"src\", emptyStar);\n      e.target.classList.remove(\"filledStar\");\n      e.target.classList.add(\"emptyStar\");\n      const { user } = this.props;\n      const paintingId = e.target.alt;\n      this.props.handleLike(`/handle-like/unlike/${user._id}/${paintingId}`);\n    }\n  };\n\n  addSeen(id) {\n    userService.addSeen(id);\n  }\n\n  render() {\n    return (\n      <div className=\"painting-list-div\">\n        {!this.state.paintings ? (\n          <LoadingGif />\n        ) : !this.state.paintings.length ? <h2 className=\"search-err\">No matching paintings</h2> : (\n          this.state.paintings.map((painting, i) => {\n            return (\n              <div key={shortid.generate()} className=\"painting-list-item\">\n                {!this.props.user ? null : !painting.usersWhoLiked.includes(\n                    this.props.user._id\n                  ) ? (\n                  <img\n                    onClick={this.handleLikeAndToggleImageSource}\n                    className=\"emptyStar\"\n                    src={emptyStar}\n                    alt={painting._id}\n                  />\n                ) : (\n                  <img\n                    className=\"filledStar\"\n                    onClick={this.handleLikeAndToggleImageSource}\n                    src={filledStar}\n                    alt={painting._id}\n                  />\n                )}\n\n                <Link\n                  onClick={() => this.addSeen(painting._id)}\n                  to={`/painting/${painting._id}`}\n                >\n                  <Image\n                    src={painting.image}\n                    view=\"home\"\n                    className=\"home-list-img\"\n                  />\n                </Link>\n\n                <div className=\"img-info\">\n                  <Link\n                    onClick={() => this.addSeen(painting._id)}\n                    to={`/painting/${painting._id}`}\n                  >\n                    <p className=\"list-title\">{painting.title}</p>\n                  </Link>\n                </div>\n              </div>\n            );\n          })\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport \"./Home.css\";\n\nimport Navbar from \"../../components/Navbar/Navbar\";\nimport ExploreBar from \"../../components/ExploreBar/ExploreBar\";\nimport PaintingList from \"../../components/ListPainting/ListPainting\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../../lib/AuthProvider\";\nimport paintingService from \"../../lib/services/painting-service\";\nimport userService from \"./../../lib/services/user-services\";\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      paintings: null\n    };\n  }\n\n  getHomePaintings = async () => {\n    const homePaintings = await paintingService.getHomePaintings();\n    this.setState({ paintings: homePaintings });\n  };\n\n  getFilteredPaintings = async filter => {\n    let filteredPaintings;\n    if(filter){\n      filteredPaintings = await paintingService.getFilteredPaintings(\n        filter\n      );\n    }\n    else if (this.props.location.search) {\n      filteredPaintings = await paintingService.getFilteredPaintings(\n        this.props.location.search\n      );\n    }\n\n    if (filteredPaintings) {\n      this.setState({ paintings: filteredPaintings.data });\n    }\n  };\n\n  componentDidMount = () => {\n    const queryObj = this.props.location.search;\n    if (Object.keys(queryObj).length === 0) this.getHomePaintings();\n    else this.getFilteredPaintings(queryObj.sort);\n  };\n\n  handleLike =(string)=>{\n    userService.handleLike(string)\n  }\n\n\n\n  render() {\n    const { user, isLoggedIn } = this.props;\n    return (\n      <div>\n\n        <Navbar view=\"home\" getHomePaintings={this.getHomePaintings} />\n        <ExploreBar\n          {...this.props}\n          getSortedPaintings={this.getSortedPaintings}\n          getFilteredPaintings={this.getFilteredPaintings}\n        />\n\n        {!this.state.paintings ? null : (\n          <PaintingList user={user}paintings={this.state.paintings} \n          handleLike={this.handleLike}/>\n        )}\n\n        {isLoggedIn ? (\n          <div>\n            \n          <Link to={`/chats/${user._id}`} className=\"chats-link\">\n          <img src=\"https://img.icons8.com/flat_round/64/000000/speech-bubble.png\" alt=\"\"/>\n          </Link>\n          <Link to=\"/paintings/add\" className=\"add-link\">\n            <img\n              src=\"https://img.icons8.com/material/96/000000/add.png\"\n              alt=\"\"\n            />\n          </Link>\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Home);\n","import React, { Component } from 'react'\nimport { withAuth } from \"../../../lib/AuthProvider\"\nimport { Link } from \"react-router-dom\";\nimport \"./Login.css\"\n\nclass Login extends Component {\n    state = { username: \"\", password: \"\" };\n\n    handleFormSubmit = event => {\n      event.preventDefault();\n      const { username, password } = this.state;\n      this.props.login({ username, password })\n    };\n  \n    handleChange = event => {\n      const { name, value } = event.target;\n      this.setState({ [name]: value });\n    };\n  \n    render() {\n      const { username, password } = this.state;\n  \n      return (\n        <div className=\"login\">\n          <div className=\"login-background\"></div>\n          <div className=\"auth-background\"><div></div></div>\n        <img\n        id=\"auth-back\"\n          onClick={() => this.props.history.push(\"/\")}\n          src=\"https://img.icons8.com/metro/52/000000/back.png\"\n          alt=\"\"\n        />\n          <h1>Login</h1>\n  \n          <form onSubmit={this.handleFormSubmit}>\n            \n            <label>Username:</label>\n            <input type=\"text\" name=\"username\" value={username} onChange={this.handleChange}/>\n  \n            <label>Password:</label>\n            <input type=\"password\" name=\"password\" value={password} onChange={this.handleChange} />\n  \n            <input type=\"submit\" id=\"login-btn\" className=\"yellowbutton\" value=\"Login\" />\n          </form>\n          <p>Don't have an account? <Link to=\"/signup\">Sign up</Link></p>\n        </div>\n      );\n    }\n}\n\nexport default withAuth(Login)","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withAuth } from \"../../../lib/AuthProvider\";\nimport authService from \"../../../lib/services/auth-service\";\nimport \"./signup.css\";\n\nimport defaultProfileImages from \"../../../lib/config/defaultProfilePic\";\nimport LoadingGif from \"./../../../components/LoadingGif\"\n\nvar defaultProfileImagesIndex = Math.floor(\n  Math.random() * defaultProfileImages.length\n);\n\nclass Signup extends Component {\n  state = { username: \"\", password: \"\", image: null, imageLoaded: true };\n\n  handleFormSubmit = event => {\n    event.preventDefault();\n    const { username, password, image } = this.state;\n    if(image.match(/\\.(jpg|png)$/) != null){\n      this.props.signup({ username, password, image });\n    }\n  };\n\n  handleChange = event => {\n    const { name, value } = event.target;\n    this.setState({ [name]: value });\n  };\n\n  fileChange = event => {\n    this.setState({ imageLoaded: false });\n    const file = event.target.files[0];\n    const uploadData = new FormData();\n    uploadData.append(\"photo\", file);\n\n    authService\n      .imageUpload(uploadData)\n      .then(image => {\n        this.setState({ image });\n        this.setState({ imageLoaded: true });\n      })\n      .catch(error => console.log(error));\n  };\n\n  changeImage(instruction) {\n    switch (instruction) {\n      case \"to_previous\":\n        defaultProfileImagesIndex--;\n        if (defaultProfileImagesIndex < 1) {\n          defaultProfileImagesIndex = defaultProfileImages.length-1;\n        }\n        break;\n      case \"to_next\":\n        defaultProfileImagesIndex++;\n        if (defaultProfileImagesIndex > defaultProfileImages.length-1) {\n          defaultProfileImagesIndex = 1;\n        }\n        break;\n      default:\n    }\n    this.setState({\n      image: defaultProfileImages[defaultProfileImagesIndex]\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      image: defaultProfileImages[defaultProfileImagesIndex]\n    });\n  }\n\n  render() {\n    const { username, password } = this.state;\n    return (\n      <div className=\"signup\">\n\n      <div className=\"auth-background\"><div></div></div>\n        <div className=\"signup-backgound\"></div>\n        <img\n        id=\"auth-back\"\n          onClick={() => this.props.history.push(\"/\")}\n          src=\"https://img.icons8.com/metro/52/000000/back.png\"\n          alt=\"\"\n        />\n        <h1>Welcome!!</h1>\n        {!this.state.image ? null : (\n          <div>\n            <img\n              id=\"signup-back-arrow\"\n              src=\"https://img.icons8.com/material-two-tone/96/000000/back.png\"\n              alt=\"\"\n              onClick={() => this.changeImage(\"to_previous\")}\n            />\n            {!this.state.imageLoaded?<LoadingGif view=\"signup\" className=\"signup-profile-img loading-profile-img\"/>:<img className=\"signup-profile-img\"src={this.state.image} alt=\"\" />}\n            <img\n              id=\"signup-next-arrow\"\n              src=\"https://img.icons8.com/material/96/000000/forward--v1.png\"\n              alt=\"\"\n              onClick={() => this.changeImage(\"to_next\")}\n            />\n          </div>\n        )}\n        <p>Please, fill in the fields below:</p>\n        <form\n          onSubmit={this.handleFormSubmit}\n          noValidate\n          encType=\"multipart/form-data\"\n        >\n          <input\n            type=\"text\"\n            name=\"username\"\n            value={username}\n            className=\"signup-input\"\n            placeholder=\"Your username\"\n            onChange={this.handleChange}\n          />\n\n          <input\n            type=\"password\"\n            name=\"password\"\n            placeholder=\"Your password\"\n            className=\"signup-input\"\n            value={password}\n            onChange={this.handleChange}\n          />\n\n          <input\n            type=\"file\"\n            name=\"image\"\n            onChange={e => this.fileChange(e)}\n            id=\"file\"\n          />\n          <label htmlFor=\"file\" className=\"btn-3\">\n            <span>Upload an image</span>\n          </label>\n\n          <br />\n          {this.state.imageLoaded ? (\n            <input type=\"submit\" value=\"Signup\" className=\"signup-btn yellowbutton\" />\n          ) : (\n            <input type=\"button\" value=\"Signup\" className=\"signup-btn yellowbutton\" />\n          )}\n        </form>\n\n        <p>\n          Already have account? <Link to={\"/login\"}> Log In</Link>\n        </p>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Signup);\n","import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport shortid from \"shortid\";\nimport \"./ProfileDisplay.css\";\nimport userService from \"./../../lib/services/user-services\";\nimport paintingService from \"../../lib/services/painting-service\";\nimport LoadingGif from \"./../LoadingGif\"\nimport Image from \"./../Image\"\n\nexport default class ProfileDisplay extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      // userId: \"\",\n      user: {}\n    };\n  }\n\n  componentDidMount = () => {\n    this.refreshProfile();\n    if(document\n      .querySelector(\"#navbar-profile-img\")){\n        document\n          .querySelector(\"#navbar-profile-img\")\n          .addEventListener(\"click\", () => this.refreshProfile());\n      }\n  };\n\n  refreshProfile = async () => {\n    setTimeout(async () => {\n      const userData = await userService.getUser(\n        this.props.match.params.userId\n      );\n      this.setState({ user: userData });\n    }, 50);\n  };\n\n  deleteMe = paintingId => {\n    paintingService.delete(paintingId);\n    setTimeout(async () => {\n      const userData = await userService.getUser(this.props.user._id);\n      this.setState({ user: userData });\n    }, 50);\n  };\n\n  LogoutAndGoToSignup = ()=> {\n    this.props.logout()\n    // .then(()=>{\n    //   this.props.history.push(\"/signup\")\n    // })\n  }\n\n  render() {\n    return (\n      <div>\n        {!this.state.user ? <LoadingGif/> : (\n          <div key={shortid.generate()} className=\"profile-info\">\n            {!this.props.user ? null : (\n              <span>\n                {this.props.user._id !== this.state.user._id ? null : (\n                  <button className=\"redbutton logout-button\" onClick={this.LogoutAndGoToSignup}>\n                    LOGOUT\n                  </button>\n                )}\n              </span>\n            )}\n\n            {!this.state.user.paintings ? <LoadingGif/> : !this.state.user\n                .paintings[0] ? <h1 className=\"profile-empty-err\">You don't have any style cards yet :(</h1> : (\n              <div>\n                {!this.props.user ? <h1 id=\"details-title-not-user\">{this.state.user.username}'s style cards</h1> : this.props.user._id !== this.state.user._id ? (\n                  <h1>{this.state.user.username}'s style cards</h1>\n                ) : (\n                  <h1>Your style cards</h1>\n                )}\n\n                <ul className=\"profile-paintings-wrapper\">\n                  {this.state.user.paintings.map(painting => (\n                    <div key={shortid.generate()} className=\"profile-painting\">\n                      <Link to={`/painting/${painting._id}`}>\n                      <Image src={painting.image} view=\"profile\"/>\n                      </Link>\n                      <div>\n                        {!this.props.user? <Link to={`/painting/${painting._id}`}>\n                          <p className=\"other-profile-painting-title\">\n                            {painting.title}\n                          </p>\n                        </Link> :this.props.user._id !== this.state.user._id ? \n                          <Link to={`/painting/${painting._id}`}>\n                          <p className=\"other-profile-painting-title\">\n                            {painting.title}\n                          </p>\n                        </Link> : (\n                          <Link to={`/painting/${painting._id}`}>\n                          <p className=\"my-profile-painting-title\">\n                            {painting.title}\n                          </p>\n                        </Link>\n                        )}\n                        \n                        <p>{painting.description}</p>\n                        <div>\n                          {!this.props.user? null\n                          :\n                          this.props.user._id !==\n                          this.state.user._id ? null : (\n                            <div>\n                              <button\n                                className=\"redbutton\"\n                                onClick={() => {\n                                  this.deleteMe(painting._id);\n                                }}\n                              >\n                                DELETE\n                              </button>\n                              <span>\n                                <Link to={`/painting/edit/${painting._id}`}>\n                                  <button className=\"yellowbutton\">EDIT</button>\n                                </Link>\n                              </span>\n                            </div>\n                          )}\n                        </div>\n                      </div>\n                    </div>\n                  ))}\n                </ul>\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\n\nimport Navbar from \"../components/Navbar/Navbar\";\nimport ProfileDisplay from \"../components/ProfileDisplay/ProfileDisplay\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nclass Home extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { user, logout } = this.props;\n    return (\n      <div>\n        <Navbar {...this.props} refresh={this.refresh}/>\n        {user ? <ProfileDisplay user={user._id} logout={logout} {...this.props}/> : \n        <ProfileDisplay {...this.props}/>}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Home);\n","import React, { Component } from \"react\";\n\nexport default class Tag extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      className: \"hidden\"\n    };\n  }\n\n  changeClassName = () => {\n    if (this.state.className === \"hidden\")\n      this.setState({ className: \"add-tag-delete-img\" });\n    else {\n      this.setState({ className: \"hidden\" });\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"one-tag-wrapper\">\n        {this.props.view === \"add-form\" ? (\n          <span\n            onMouseOut={this.changeClassName}\n            onMouseOver={this.changeClassName}\n            className=\"add-displayed-tag\"\n          >\n            {this.props.text}\n            <img\n              onClick={this.props.deleteTag}\n              className={this.state.className}\n              src=\"https://www.pngix.com/pngfile/big/90-905356_close-svg-png-icon-free-download-icone-x.png\"\n              alt=\"\"\n            />\n          </span>\n        ) : (\n          <span className=\"add-displayed-tag\">{this.props.text}</span>\n        )}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../lib/AuthProvider\";\nimport { Link } from \"react-router-dom\";\nimport \"./DetailsPainting.css\";\nimport paintingService from \"../../lib/services/painting-service\";\nimport userService from \"./../../lib/services/user-services\";\nimport Tag from \"./../AddPainting/Tag\";\nimport shortid from \"shortid\";\nimport LoadingGif from \"../LoadingGif\";\nimport Image from \"./../Image\";\n\nclass PaintingDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      paintingId: props.paintingId,\n      paintingDetails: {}\n    };\n  }\n\n  //HERE\n  componentDidMount = async () => {\n    setTimeout(async () => {\n      const imgData = await paintingService.getDetails(this.state.paintingId);\n      this.setState({ paintingDetails: imgData });\n    }, 50);\n  };\n\n  //!!! TAKE OUT (ALSO CHATS)\n  timeSince = date => {\n    var seconds = Math.floor((new Date() - date) / 1000);\n\n    var interval = Math.floor(seconds / 31536000);\n\n    if (interval > 1) {\n      return interval + \" years\";\n    }\n    interval = Math.floor(seconds / 2592000);\n    if (interval > 1) {\n      return interval + \" months\";\n    }\n    interval = Math.floor(seconds / 86400);\n    if (interval > 1) {\n      return interval + \" days\";\n    }\n    interval = Math.floor(seconds / 3600);\n    if (interval > 1) {\n      return interval + \" hours\";\n    }\n    interval = Math.floor(seconds / 60);\n    if (interval > 1) {\n      return interval + \" minutes\";\n    }\n    return Math.floor(seconds) + \" seconds\";\n  };\n\n  handleLikeAndToggleImageSource = e => {\n    let image = e.target.src;\n    const emptyStar = \"https://img.icons8.com/ios/50/000000/christmas-star.png\";\n    const filledStar =\n      \"https://img.icons8.com/color/100/000000/filled-star.png\";\n    if (image === emptyStar) {\n      e.target.setAttribute(\"src\", filledStar);\n      e.target.classList.remove(\"details-emptyStar\");\n      e.target.classList.add(\"details-filledStar\");\n      const { user } = this.props;\n      const paintingId = e.target.alt;\n      userService.handleLike(`/handle-like/like/${user._id}/${paintingId}`);\n      document.querySelector(\"#likes-qty\").innerHTML =\n        parseInt(document.querySelector(\"#likes-qty\").innerHTML) + 1;\n    } else {\n      e.target.setAttribute(\"src\", emptyStar);\n      e.target.classList.remove(\"details-filledStar\");\n      e.target.classList.add(\"details-emptyStar\");\n      const { user } = this.props;\n      const paintingId = e.target.alt;\n      userService.handleLike(`/handle-like/unlike/${user._id}/${paintingId}`);\n      document.querySelector(\"#likes-qty\").innerHTML =\n        parseInt(document.querySelector(\"#likes-qty\").innerHTML) - 1;\n    }\n  };\n\n  render() {\n    const { user, isLoggedIn } = this.props;\n    const {\n      image,\n      title,\n      description,\n      creator,\n      creatorUsername,\n      timesSeen,\n      usersWhoLiked,\n      tags,\n      created_at,\n      game\n    } = this.state.paintingDetails;\n    const paintingId = this.state.paintingDetails._id;\n\n    return (\n      <div className=\"details-div\">\n        {!this.state.paintingDetails ? null : this.state.paintingDetails ===\n          \"Request failed with status code 404\" ? (\n            <div className=\"error-404\">\n              <img\n                src=\"https://cdn.dribbble.com/users/2112205/screenshots/6311420/404.gif\"\n                alt=\"\"\n              />\n            <h1>Oh, no!</h1>\n            <h1> We were not able to find that painting</h1>\n            <p>It may have been deleted...</p>\n            </div>\n        ) : isLoggedIn ? (\n          <div>\n            <Image src={image} view=\"display\" className=\"edit-main-img\" />\n            <div>\n              <div className=\"details-view-info\">\n                <div>\n                  <img\n                    className=\"edit-seenTimes\"\n                    src=\"https://img.icons8.com/material-rounded/96/000000/visible.png\"\n                    alt=\"\"\n                  />\n                  <span>{timesSeen}</span>\n                </div>\n                {!this.props\n                  .user ? null : !usersWhoLiked ? null : usersWhoLiked.includes(\n                    user._id\n                  ) ? (\n                  <div>\n                    <img\n                      className=\"details-filledStar\"\n                      onClick={this.handleLikeAndToggleImageSource}\n                      src=\"https://img.icons8.com/color/100/000000/filled-star.png\"\n                      alt={paintingId} //!!! CUSTOM ID OR OTHER WAY TO PASS IT. Data-NOT WORKING\n                    />\n                    <span id=\"likes-qty\">{usersWhoLiked.length}</span>\n                  </div>\n                ) : (\n                  <div>\n                    <img\n                      onClick={this.handleLikeAndToggleImageSource}\n                      className=\"details-emptyStar\"\n                      src=\"https://img.icons8.com/ios/50/000000/christmas-star.png\"\n                      alt={paintingId} //!!! CUSTOM ID OR OTHER WAY TO PASS IT. Data-NOT WORKING\n                    />\n                    <span id=\"likes-qty\">{usersWhoLiked.length}</span>\n                  </div>\n                )}\n                <span className=\"details-game\">\n                  <Link to={`/?game=${game}`}>{game}</Link>\n                </span>\n              </div>\n            </div>\n            {!user ? null : user._id === creator ? (\n              <div className=\"details-title-wrapper\">\n                <p className=\"details-title\">{title}</p>\n                <span>\n                  <Link to={`/painting/edit/${this.state.paintingDetails._id}`}>\n                    <img\n                      src=\"https://img.icons8.com/dusk/512/000000/edit.png\"\n                      alt=\"\"\n                    />\n                  </Link>\n                </span>\n              </div>\n            ) : (\n              <div className=\"details-title-wrapper\">\n                <p className=\"details-title\">{title}</p>\n              </div>\n            )}\n            {!description ? null : (\n              <p className=\"details-description\">{description}</p>\n            )}\n            <div className=\"details-tags-wrapper\">\n              {!tags\n                ? null\n                : tags.map(tag => (\n                    <Link key={shortid.generate()} to={`/?tag=${tag}`}>\n                      <Tag text={tag}></Tag>\n                    </Link>\n                  ))}\n            </div>\n            <div className=\"detail-creator-info-div\">\n              <p>\n                By: <Link to={`/profile/${creator}`}>{creatorUsername}</Link>\n              </p>\n\n              {!user ? null : user._id !== creator ? (\n                <Link to={`/chat/${creator}/${user._id}`}>\n                  <img\n                    src=\"https://img.icons8.com/plasticine/100/000000/chat.png\"\n                    alt=\"\"\n                  />\n                </Link>\n              ) : null}\n            </div>\n\n            <div className=\"creation-date\">\n              <p>Created {this.timeSince(Date.parse(created_at)) + \" ago.\"}</p>\n            </div>\n          </div>\n        ) : (\n          <div>\n            <Image src={image} view=\"display\" className=\"edit-main-img\" />\n\n            <div>\n              <div className=\"details-view-info\">\n                <div>\n                  <img\n                    className=\"edit-seenTimes\"\n                    src=\"https://img.icons8.com/material-rounded/96/000000/visible.png\"\n                    alt=\"\"\n                  />\n                  <span>{timesSeen}</span>\n                </div>\n                <span style={{ marginBottom: 0 }}>\n                  {usersWhoLiked ? (\n                    <div>\n                      <Link to=\"/login\">\n                        <img\n                          src=\"https://img.icons8.com/ios/50/000000/christmas-star.png\"\n                          alt=\"\"\n                        />\n                      </Link>\n                      <span>{usersWhoLiked.length}</span>\n                    </div>\n                  ) : (\n                    <LoadingGif />\n                  )}\n                </span>\n                {!this.props\n                  .user ? null : !usersWhoLiked ? null : usersWhoLiked.includes(\n                    user._id\n                  ) ? (\n                  <div>\n                    <img\n                      className=\"details-filledStar\"\n                      onClick={this.handleLikeAndToggleImageSource}\n                      src=\"https://img.icons8.com/color/100/000000/filled-star.png\"\n                      alt={paintingId} //!!! CUSTOM ID OR OTHER WAY TO PASS IT. Data-NOT WORKING\n                    />\n                    <span id=\"likes-qty\">{usersWhoLiked.length}</span>\n                  </div>\n                ) : (\n                  <div>\n                    <img\n                      onClick={this.handleLikeAndToggleImageSource}\n                      className=\"details-emptyStar\"\n                      src=\"https://img.icons8.com/ios/50/000000/christmas-star.png\"\n                      alt={paintingId}\n                    />\n                    <span id=\"likes-qty\">{usersWhoLiked.length}</span>\n                  </div>\n                )}\n                <span className=\"details-game\">\n                  <Link to={`/?game=${game}`}>{game}</Link>\n                </span>\n              </div>\n            </div>\n\n            <div className=\"details-title-wrapper\">\n              <p className=\"details-title\">{title}</p>\n            </div>\n            {!description ? null : (\n              <p className=\"details-description\">{description}</p>\n            )}\n            <div className=\"details-tags-wrapper\">\n              {!tags\n                ? null\n                : tags.map(tag => (\n                    <Link key={shortid.generate()} to={`/?tag=${tag}`}>\n                      <Tag text={tag}></Tag>\n                    </Link>\n                  ))}\n            </div>\n            <div className=\"detail-creator-info-div\">\n              <p>\n                By: <Link to={`/profile/${creator}`}>{creatorUsername}</Link>\n              </p>\n\n              {!user ? null : user._id !== creator ? (\n                <Link to={`/chat/${creator}/${user._id}`}>\n                  <img\n                    src=\"https://img.icons8.com/plasticine/100/000000/chat.png\"\n                    alt=\"\"\n                  />\n                </Link>\n              ) : null}\n            </div>\n\n            <div className=\"creation-date\">\n              <p>Created {this.timeSince(Date.parse(created_at)) + \" ago.\"}</p>\n            </div>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(PaintingDetails);\n","import React, { Component } from \"react\";\n\nimport Navbar from \"../components/Navbar/Navbar\";\nimport PaintingDetails from \"../components/DetailsPainting/DetailsPainting\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\nclass Painting extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n  render() {\n    return (\n      <div>\n        <Navbar  view=\"details\" {...this.props}/>\n        <PaintingDetails {...this.props} paintingId={this.props.match.params.paintingId} />\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Painting);\n","import shortid from \"shortid\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport userService from \"./../../lib/services/user-services\";\n\nimport LoadingGif from \"./../LoadingGif\";\n\nimport \"./ChatsDisplay.css\";\n\nexport default class ChatsDisplay extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chats: null\n    };\n  }\n\n  componentDidMount = async () => {\n    const userId = this.props.match.params.userId;\n    const chats = await userService.getUserChatRooms(userId);\n    this.setState({ chats: chats });\n    chats.forEach(async (chat, i) => {\n      const otherUserId = this.getOtherUser(chat.roomId, userId);\n      if (otherUserId.split(\"\").length === userId.split(\"\").length) {\n        const otherUserData = await userService.getUser(otherUserId);\n        this.setState({\n          [otherUserData._id]: {\n            image: otherUserData.image,\n            username: otherUserData.username\n          }\n        });\n      } else {\n        chats.splice(i, 1);\n      }\n    });\n  };\n\n  //!!! GET IS OUT\n  timeSince = date => {\n    var seconds = Math.floor((new Date() - date) / 1000);\n\n    var interval = Math.floor(seconds / 31536000);\n\n    if (interval > 1) {\n      return interval + \" years\";\n    }\n    interval = Math.floor(seconds / 2592000);\n    if (interval > 1) {\n      return interval + \" months\";\n    }\n    interval = Math.floor(seconds / 86400);\n    if (interval > 1) {\n      return interval + \" days\";\n    }\n    interval = Math.floor(seconds / 3600);\n    if (interval > 1) {\n      return interval + \" h\";\n    }\n    interval = Math.floor(seconds / 60);\n    if (interval > 1) {\n      return interval + \" min\";\n    }\n    return Math.floor(seconds) + \" s\";\n  };\n\n  //!!! KEEP BOT IDS IT IN CHAT MODEL\n  getOtherUser(roomId, userId) {\n    let result = roomId.split(userId).join(\"\");\n    // console.log(\"I am \", userId, \" so the result is \", result);\n    if (result.length === userId.length) {\n      return result;\n    } else {\n      return result.split(userId).join(\"\");\n    }\n  }\n\n  ///!!! FIX THIS. SHOULD NOT BE NEEDED\n  IMessedUp(roomId, userId) {\n    var regExp = new RegExp(userId, \"g\");\n\n    if ((roomId.match(regExp) || []).length > 1) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  render() {\n    const { chats } = this.state;\n    const userId = this.props.match.params.userId;\n    return (\n      <div>\n        <h1 style={{ margin: \"4vh 0\" }}>Your chats</h1>\n        {!chats ? (\n          <LoadingGif />\n        ) : !chats.length ? (\n          <h2>You have no active chats...</h2>\n        ) : (\n          chats.map(chat => {\n            return (\n              <span key={shortid.generate()}>\n                {!this.IMessedUp(chat.roomId, userId) ? null : (\n                  <div>\n                    <div className=\"chats-chat-item\">\n                      {!this.state[\n                        this.getOtherUser(chat.roomId, userId)\n                      ] ? null : (\n                        <Link\n                          to={`/profile/${this.getOtherUser(\n                            chat.roomId,\n                            userId\n                          )}`}\n                        >\n                          <img\n                            src={\n                              this.state[this.getOtherUser(chat.roomId, userId)]\n                                .image\n                            }\n                            alt=\"\"\n                            className=\"chats-user-img\"\n                          />\n                          <p id=\"chats-chat-username\">\n                            {\n                              this.state[this.getOtherUser(chat.roomId, userId)]\n                                .username\n                            }\n                          </p>\n                        </Link>\n                      )}\n                      <div className=\"chats-info-div\">\n                        <Link\n                          to={`/chat/${userId}/${this.getOtherUser(\n                            chat.roomId,\n                            userId\n                          )}`}\n                          style={{ color: \"black\" }}\n                        >\n                          <p className=\"chats-comment-title\">Last message:</p>\n                          <div>\n                            {!chat.comments.length ? (\n                              <p>Write your first comment!</p>\n                            ) : (\n                              <div className=\"chats-last-msg-and-time\">\n                                <p className=\"chats-comment-text\">\n                                  {\n                                    chat.comments[chat.comments.length - 1]\n                                      .commentText\n                                  }\n                                </p>\n                              </div>\n                            )}\n                            {!chat.comments[chat.comments.length - 1] ? null : (\n                              <p className=\"chats-time-ago\">\n                                {this.timeSince(\n                                  Date.parse(\n                                    chat.comments[chat.comments.length - 1]\n                                      .created_at\n                                  )\n                                )}\n                              </p>\n                            )}\n                          </div>\n                        </Link>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </span>\n            );\n          })\n        )}\n        {/* return <div><p>{chat.comments[chat.comments.length-1].commentText}</p><p>{this.timeSince(Date.parse(chat.comments[chat.comments.length-1].created_at))}</p></div>; */}\n      </div>\n    );\n  }\n}\n","import React, { Component } from \"react\";\n\nimport Navbar from \"../components/Navbar/Navbar\";\nimport paintingService from \"../lib/services/painting-service\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport ChatsDisplay from \"../components/Chats/ChatsDisplay\"\n\n\nclass Painting extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        paintingDetails: null,\n        newPainting: null\n    };\n  }\n\n\n  componentDidMount=async()=>{\n      const { paintingId } = this.props.match.params \n      const imgData = await paintingService.getDetails(paintingId);\n      this.setState({ paintingDetails: imgData, newPainting: imgData });\n  }\n\n  render() {\n    const { user } = this.props\n    return (\n      <div>\n        <Navbar  {...this.props}/>\n        <ChatsDisplay {...this.props} user={user}/>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Painting);\n","import React, { Component } from \"react\";\nimport shortid from \"shortid\";\nimport \"./AddPaintingForm.css\";\n\nimport Tag from \"./Tag\";\n\nexport default class AddPaintingForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      description: \"\",\n      image: \"\",\n      tags: []\n    };\n  }\n\n\n\n  render() {\n    return (\n      <div className=\"add-painting-form\">\n        <h1>Add a new style card</h1>\n        <p id=\"error-message\" style={{color: \"red\"}} className=\"hidden\">\n          Error mesage\n        </p>\n        <form onSubmit={this.props.handleSubmit} className=\"add-form\">\n          <input\n            className=\"add-input\"\n            onChange={this.props.handleChange}\n            type=\"text\"\n            name=\"title\"\n            placeholder=\"Title\"\n            required\n          />\n\n          <textarea\n            className=\"add-description\"\n            onChange={this.props.handleChange}\n            type=\"text\"\n            name=\"description\"\n            placeholder=\"Description\"\n          />\n\n          <input\n            type=\"file\"\n            name=\"image\"\n            onChange={e => this.props.fileChange(e)}\n            id=\"file\"\n          />\n          <label for=\"file\" className=\"btn-3\">\n            <span>Upload</span>\n          </label>\n          <span>or</span>\n          <input\n          onChange={this.props.handleChange}\n            id=\"signup-img-link\"\n            className=\"signup-input\"\n            name=\"image\"\n            placeholder=\"Link an image (Sketchfab OK)\"\n          />\n\n          <div id=\"add-tags-display\">\n          {!this.props.tags.length\n            ? null\n            : this.props.tags.map(tag => {\n                return <Tag view=\"add-form\" key={shortid.generate()}deleteTag={()=>this.props.deleteTag(tag)} text={tag}></Tag>;\n              })}\n              </div>\n          <input\n            className=\"add-input add-tags-fake\"\n            onChange={this.props.addTagValue}\n            type=\"text\"\n            name=\"tags\"\n            placeholder=\"Tags (separated with spaces)\"\n          />\n\n          <select\n            id=\"select\"\n            size=\"1\"\n            name=\"game\"\n            onChange={this.props.handleSelectChange}\n            className=\"browser-default  custom-select-lg mb-3 select\"\n          >\n            <option>Warhammer 40k</option>\n            <option>Warhammer Fantasy</option>\n            <option>Legends of the Old West</option>\n          </select>\n\n          <button className=\"yellowbutton add-btn\">Submit</button>\n        </form>\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport Navbar from \"../components/Navbar/Navbar\";\nimport AddPaintingForm from \"../components/AddPainting/AddPaintingForm\";\nimport { withAuth } from \"../lib/AuthProvider\";\nimport paintingService from \"../lib/services/painting-service\";\n\nclass PaintingsAdd extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      newPainting: {\n        title: \"\",\n        description: \"\",\n        image: \"\",\n        tags: [],\n        game: \"Warhammer 40k\"\n      }\n    };\n  }\n\n  handleSubmit = async e => {\n    e.preventDefault();\n    //!!!\n    if (this.state.newPainting.title.split(\"\").length < 17) {\n      // if (this.state.newPainting.image.split(\"\").length){\n        const newPainting = await paintingService.postPainting({\n          title: this.state.newPainting.title,\n          description: this.state.newPainting.description,\n          image: this.state.newPainting.image,\n          tags: this.state.newPainting.tags,\n          creator: this.props.user._id,\n          creatorUsername: this.props.user.username, //!!!\n          game: this.state.newPainting.game\n        });\n        if (newPainting) {\n          this.props.history.push(`/painting/${newPainting._id}`);\n        }\n      // } else {\n      //   const errorMessage = document.querySelector(\"#error-message\");\n      //   errorMessage.innerHTML = \"Image format is not accepted\";\n      //   errorMessage.classList.remove(\"hidden\");\n      // }\n    } else {\n      const errorMessage = document.querySelector(\"#error-message\");\n      errorMessage.innerHTML = \"Title must not be longer than 16 characters\";\n      errorMessage.classList.remove(\"hidden\");\n    }\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    const newPaintingCopy = { ...this.state.newPainting };\n    newPaintingCopy[name] = value;\n    this.setState({ newPainting: newPaintingCopy });\n  };\n\n  handleSelectChange = e => {\n    var e = document.getElementById(\"select\");\n    var value = e.options[e.selectedIndex].value;\n    const newPaintingCopy = { ...this.state.newPainting };\n    newPaintingCopy[\"game\"] = value;\n    this.setState({ newPainting: newPaintingCopy });\n  };\n\n  fileChange = event => {\n    const file = event.target.files[0];\n    const uploadData = new FormData();\n    uploadData.append(\"photo\", file);\n\n    paintingService\n      .imageUpload(uploadData)\n      .then(image => {\n        const newPaintingCopy = { ...this.state.newPainting };\n        newPaintingCopy.image = image;\n        this.setState({ newPainting: newPaintingCopy });\n        this.setState({ image });\n      })\n      .catch(error => console.log(error));\n  };\n\n  addTagValue = e => {\n    const fakeTagsInput = e.target;\n    let fakeTagsInputValue = fakeTagsInput.value;\n    const valueArr = fakeTagsInputValue.split(\"\");\n    const lastCharacterInInput = valueArr[valueArr.length - 1];\n    const firstCharacterInInput = valueArr[0];\n\n    if (firstCharacterInInput === \" \") {\n      fakeTagsInput.value = \"\";\n      return;\n    }\n    if (lastCharacterInInput === \" \") {\n      fakeTagsInputValue = fakeTagsInputValue.split(\"\");\n      fakeTagsInputValue.pop();\n      fakeTagsInputValue = fakeTagsInputValue.join(\"\");\n      if (this.state.newPainting.tags.indexOf(fakeTagsInputValue) !== -1) {\n        fakeTagsInput.value = \"\";\n        return;\n      }\n      const tagsCopy = [...this.state.newPainting.tags, fakeTagsInputValue];\n      const newPaintingCopy = { ...this.state.newPainting };\n      newPaintingCopy.tags = tagsCopy;\n      this.setState({ newPainting: newPaintingCopy });\n      fakeTagsInput.value = \"\";\n    }\n  };\n\n  deleteTag = tag => {\n    const tagsCopy = this.state.newPainting.tags;\n    if (tagsCopy.indexOf(tag) !== -1) {\n      tagsCopy.splice(tagsCopy.indexOf(tag), 1);\n      const newPaintingCopy = { ...this.state.newPainting };\n      newPaintingCopy.tags = tagsCopy;\n      this.setState({ newPainting: newPaintingCopy });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <Navbar {...this.props} />\n        <AddPaintingForm\n          handleChange={this.handleChange}\n          handleSelectChange={this.handleSelectChange}\n          handleSubmit={this.handleSubmit}\n          deleteTag={this.deleteTag}\n          fileChange={this.fileChange}\n          tags={this.state.newPainting.tags}\n          addTagValue={this.addTagValue}\n          user={this.props.user}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withAuth(PaintingsAdd);\n","import React, { Component } from \"react\";\nimport { withAuth } from \"../../lib/AuthProvider\";\nimport Image from \"./../Image\"\nimport \"./EditForm.css\";\n\nclass PaintingDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { painting } = this.props;\n    return (\n      <div className=\"edit-painting-div\">\n        {!painting ? null : (\n          <div>\n            <h1>Edit</h1>\n            <p id=\"error-message\" className=\"hidden\">\n              Error mesage\n            </p>\n            {!painting.image.includes(\"sketchfab.com\") ? (\n              <Image view=\"edit\" src={painting.image}/>\n            ) : (\n              \n              <Image view=\"edit\" src={painting.image}/>\n            )}\n            <form onSubmit={this.props.handleSubmit} className=\"edit-form\">\n              <table>\n                <tbody>\n                  <tr>\n                    <td>\n                      <label htmlFor=\"title\">Title</label>\n                    </td>\n                    <td>\n                      <input\n                        className=\"edit-input\"\n                        onChange={this.props.handleChange}\n                        type=\"text\"\n                        name=\"title\"\n                        placeholder=\"title\"\n                        value={painting.title}\n                        required\n                      />\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <label htmlFor=\"description\">Description</label>\n                    </td>\n                    <td>\n                      <textarea\n                      id=\"edit-description\"\n                        className=\"edit-input\"\n                        onChange={this.props.handleChange}\n                        type=\"text\"\n                        name=\"description\"\n                        value={painting.description}\n                        placeholder=\"description\"\n                      />\n                    </td>\n                  </tr>\n                  <tr>\n                    <td>\n                      <label htmlFor=\"\">Tags</label>\n                    </td>\n                    <td>\n                      <input\n                        className=\"edit-input\"\n                        onChange={this.props.handleChange}\n                        type=\"text\"\n                        name=\"tags\"\n                        value={painting.tags.join(\" \")}\n                        placeholder=\"tags\"\n                      />\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <button  className=\"yellowbutton edit-btn\">Update</button>\n            </form>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(PaintingDetails);\n","import React, { Component } from \"react\";\n\nimport Navbar from \"../components/Navbar/Navbar\";\nimport EditDiv from \"../components/EditPainting/EditForm\";\nimport paintingService from \"../lib/services/painting-service\";\nimport { withAuth } from \"../lib/AuthProvider\";\n\n\nclass Painting extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        paintingDetails: null,\n        newPainting: null\n    };\n  }\n\n\n  componentDidMount=async()=>{\n      const { paintingId } = this.props.match.params \n      const imgData = await paintingService.getDetails(paintingId);\n      this.setState({ paintingDetails: imgData, newPainting: imgData });\n  }\n\n  handleChange = (event)=>{\n      const { name, value } = event.target\n      const newPaintingCopy = {...this.state.newPainting}\n      if(name!==\"tags\"){\n        newPaintingCopy[name]=value\n      } else {\n        newPaintingCopy[name]=value.split(\" \")\n      }\n      this.setState({ newPainting: newPaintingCopy });\n  }\n\n  handleSubmit = async (e)=>{\n      e.preventDefault();\n      const updatedPainting = await paintingService.updatePaintingByPut(this.state.newPainting)\n      if(updatedPainting.title){\n          this.props.history.push(`/painting/${this.props.match.params.paintingId}`)\n      }\n}\n\n  render() {\n    return (\n      <div>\n        <Navbar  {...this.props}/>\n        <EditDiv painting={this.state.newPainting} \n        handleChange={this.handleChange}\n        handleSubmit={this.handleSubmit}/>\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Painting);\n","import axios from \"axios\";\n\nconst baseURL= process.env.REACT_APP_API_URL\n\nclass Auth {\n  constructor() {\n    this.chat = axios.create({\n      baseURL: baseURL,\n      withCredentials: true //<-- Goes with CORS credentials\n    });\n  }\n\n  getChatData(ids) {\n    const { creatorId, userId } = ids;\n    return this.chat\n      .get(`/chat/${creatorId}/${userId}`)\n      .then(({ data }) => data);\n  }\n\n  postComment(data) {\n    const { userId, creatorId, newCommentData } = data;\n    return this.chat\n      .post(`/chat/comment/${creatorId}/${userId}`, newCommentData)\n      .then(data => {\n        return data;\n      });\n  }\n}\n\nconst axiosRequestFunctions = new Auth();\n\nexport default axiosRequestFunctions;\n","import React, { Component } from \"react\";\nimport shortid from \"shortid\";\nimport { geolocated } from \"react-geolocated\";\nimport \"./ChatMain.css\";\n\nclass ChatMain extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  render() {\n    const { user } = this.props;\n    return (\n      <div className=\"chat\">\n        {!this.props.chat\n          ? null\n          : !user\n          ? null\n          : this.props.chat.a.comments.map(comment => {\n              return (\n                <div key={shortid.generate()}>\n                      \n                  {comment.creatorId === user._id ? (\n                    <div\n                      className=\"my-chat-comment-wrapper\"\n                    >\n                      <div className=\"talktext\">\n                        <p className=\"my-chat-comment\">{comment.commentText}</p>\n                      </div>\n                    </div>\n                  ) : (\n                    <div\n                      key={shortid.generate()}\n                      className=\"other-chat-comment-wrapper\"\n                    >\n                      <div className=\"talktext\">\n                        <p className=\"other-user-chat-comment\">\n                          {comment.commentText}\n                        </p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n      </div>\n    );\n  }\n}\n\nexport default geolocated({\n  positionOptions: {\n      enableHighAccuracy: false,\n  },\n  userDecisionTimeout: 5000,\n})(ChatMain);","import React, { Component, PropTypes } from \"react\";\nimport \"./ChatForm.css\";\n// import { bindActionCreators } from \"react-redux\"\n// import { connect } from \"react-redux\";\n\nexport default class ChatMain extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      newComment: {\n        creatorUsername: this.props.user.username, // this.props.user.username,\n        creatorId: this.props.user._id, //this.props.user._id,\n        commentText: \"\",\n        commentImage: \"\"\n      }\n    };\n  }\n\n  // static propTypes = {\n  //   comment: this.PropTypes.object.isRequired\n  // }\n\n  componentDidMount() {\n    // const allInputs = document.querySelectorAll(\"input\");\n    // const textInput = allInputs[0];\n    // const qtyInput = allInputs[1];\n    \n    // document.querySelector(\".show-chatform2\").addEventListener(\"click\", () => {\n    //   document.querySelector(\".chatform2\").classList.toggle(\"hidden\");\n    // });\n    // document.querySelector(\"#showform2\").addEventListener(\"click\", () => {\n    //   document.querySelector(\".invoiceform\").classList.remove(\"hidden\");\n    //   document.querySelector(\".chatform2\").classList.add(\"hidden\");\n    // });\n    // document\n    //   .querySelector(\".close-incoiceform\")\n    //   .addEventListener(\"click\", () => {\n    //     document.querySelector(\".invoiceform\").classList.add(\"hidden\");\n    //   });\n    // document.addEventListener(\"keydown\", e => {\n    //   if ((e.code === \"Enter\"||e.code===\"NumpadEnter\") && (textInput==document.activeElement||qtyInput==document.activeElement)) {\n    //     console.log(textInput);\n    //   }\n    // });\n  }\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    const newCommenCopy = { ...this.state.newComment };\n    newCommenCopy[name] = value;\n    this.setState({ newComment: newCommenCopy });\n  };\n\n  preventDefaultAndSendComment = e => {\n    e.preventDefault();\n    if (this.state.newComment.commentText !== \"\") {\n      this.props.sendComment(this.state.newComment);\n      const newCommenCopy = { ...this.state.newComment };\n      newCommenCopy.commentText = \"\";\n      this.setState({ newComment: newCommenCopy });\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"invoiceform hidden\">\n          <div>\n            <p className=\"close-incoiceform\">x</p>\n            <div>\n              <input></input>\n              <p>x</p>\n              <input></input>\n              <p>€ x</p>\n              <input value=\"1\" style={{textAlign:\"center\"}}></input>\n              <p>=</p>\n              <p></p>\n            </div>\n          </div>\n        </div>\n        <div className=\"chatform2 hidden\">\n          <p id=\"showform2\" >+ INVOICE</p>\n        </div>\n        <form\n          onSubmit={e => this.preventDefaultAndSendComment(e)}\n          className=\"chatform\"\n        >\n          <div className=\"show-chatform2 hidden\">+</div>\n          <input\n            type=\"text\"\n            name=\"commentText\"\n            onChange={this.handleChange}\n            value={this.state.newComment.commentText}\n          />\n          <input\n            type=\"submit\"\n            value=\"Send\"\n            className=\"yellowbutton chat-send-btn\"\n          />\n        </form>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  comment: state\n});\n\n// export default connect(mapStateToProps)(ChatMain)\n","import React, { Component } from \"react\";\n\nimport { withAuth } from \"../lib/AuthProvider\";\nimport chatService from \"../lib/services/chat-service\";\n\nimport Navbar from \"../components/Navbar/Navbar\";\nimport ChatMain from \"../components/chat/ChatMain/ChatMain\";\nimport ChatForm from \"../components/chat/ChatForm/ChatForm\";\n\nclass Chat extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      chatData: null\n    };\n  }\n\n  componentDidMount = async () => {\n    this.setState({\n      chatData: await chatService.getChatData(this.props.match.params)\n    });\n  };\n\n  sendComment = async newComment => {\n    const data = { ...this.props.match.params };\n    data[\"newCommentData\"] = newComment;\n    await chatService.postComment(data);\n    const updatedChat2 = await chatService.getChatData(this.props.match.params);\n    this.setState({ chatData: updatedChat2 });\n  };\n\n  render() {\n    const {user} = this.props\n    return (\n      <div>\n        <Navbar {...this.props}/>\n        <ChatMain chat={this.state.chatData} user={user}></ChatMain>\n\n        {user ? (\n          <ChatForm\n            sendComment={this.sendComment}\n            user={user}\n          ></ChatForm>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default withAuth(Chat);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../../lib/AuthProvider\";\n\nfunction AnonRoute({ component: Component, isLoggedIn, isLoading, ...rest }) {\n  if (isLoading) {\n    return <h1>Loading</h1>;\n  } else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          !isLoggedIn ? <Component {...props} /> : <Redirect to=\"/\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(AnonRoute);\n","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { withAuth } from \"../../lib/AuthProvider\";\n\nfunction PrivateRoute({\n  component: Component,\n  isLoggedIn,\n  isLoading,\n  ...rest\n}) {\n  if (isLoading) {\n    return <h1>Loading</h1>;\n  } else {\n    return (\n      <Route\n        {...rest}\n        render={props =>\n          isLoggedIn ? <Component {...props} /> : <Redirect to=\"/login\" />\n        }\n      />\n    );\n  }\n}\n\nexport default withAuth(PrivateRoute);\n","import React from \"react\";\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\nimport \"./App.css\";\n\nimport Home from \"./views/Home/Home\";\nimport Login from \"./views/Auth pages/Login/Login\";\nimport Signup from \"./views/Auth pages/Signup/Signup\";\nimport Profile from \"../src/views/Profile\";\nimport Painting from \"./views/Painting\";\nimport Chats from \"./views/Chats\";\nimport PaintingsAdd from \"./views/AddPaintings\";\nimport Edit from \"./views/Edit\";\nimport Chat from \"./views/Chat\";\n\nimport AnonRoute from \"./components/a_Route Components/AnonRoute\";\nimport PrivateRoute from './components/a_Route Components/PrivateRoute';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Switch>\n          <Route exact path=\"/\" component={Home}></Route>\n          <AnonRoute exact path=\"/login\" component={Login}></AnonRoute>\n          <AnonRoute exact path=\"/signup\" component={Signup}></AnonRoute>\n          <Route exact path=\"/profile\" component={Profile}></Route>\n          <Route exact path=\"/chats/:userId\" component={Chats}></Route>\n          <PrivateRoute exact path=\"/profile/:userId\" component={Profile}></PrivateRoute>\n          <Route\n            exact\n            path=\"/painting/edit/:paintingId\"\n            component={Edit}\n          ></Route>\n          <Route\n            exact\n            path=\"/painting/:paintingId\"\n            component={Painting}\n          ></Route>\n          <Route exact path=\"/paintings/add\" component={PaintingsAdd}></Route>\n          <Route exact path=\"/chat/:creatorId/:userId\" component={Chat}></Route>\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const CHANGE_COMMENT_TEXT = \"chat-comment/CHANGE_COMMENT_TEXT\"\nexport const CHANGE_COMMENT_IMAGE = \"chat-comment/CHANGE_COMMENT_IMAGE\"\nexport const SEND_COMMENT = \"chat-comment/SEND_COMMENT\"\n","import * as CommentActionTypes from \"../actiontypes/chat-comment\";\n\nconst initialState = {\n  creatorUsername: \"\", // this.props.user.username,\n  creatorId: \"\", //this.props.user._id,\n  commentText: \"\",\n  commentImage: \"\"\n};\n\nexport default function Comment(state = initialState, action) {\n  switch (action.type) {\n    case CommentActionTypes.CHANGE_COMMENT_TEXT:\n      return {\n        ...state,\n        commentText: action.commentText\n      };\n    case CommentActionTypes.CHANGE_COMMENT_IMAGE:\n      return {\n        ...initialState,\n        commentImage: action.commentImage\n      };\n    case CommentActionTypes.SEND_COMMENT:\n      return \"a\"\n    //   {\n    //     ...initialState,\n    //     commentImage: action.commentImage\n    //   };\n    default:\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport AuthProvider from \"./lib/AuthProvider\";\n\nimport { Provider } from \"react-redux\"\nimport { createStore }from \"redux\"\nimport CommentReducer from \"./reducers/chat-comment\"\nimport ChatForm from \"./components/chat/ChatForm/ChatForm\"\n\nconst store = createStore(\n  CommentReducer\n)\n\nReactDOM.render(\n  <Provider store={store}>\n  <AuthProvider>\n    <App />\n  </AuthProvider>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","const profileImages = [\n    \"https://preview.redd.it/sv49tdht3ds11.jpg?width=768&auto=webp&s=83ce6a1b99746d62e26212e1d5e25d70adb10ce9\",\n    \"https://i.pinimg.com/564x/0c/e4/91/0ce491ecf9684f64e49436689e969e43.jpg\",\n    \"https://i.pinimg.com/564x/42/6b/18/426b181df40f7da0046007250aa08337.jpg\",\n    \"https://i.pinimg.com/564x/a8/47/a4/a847a4bc6d4085a7bc7137049399682d.jpg\",\n    \"https://i.pinimg.com/564x/a8/ac/4e/a8ac4e780e1e10ef63c8170cc77cfa91.jpg\",\n    \"https://i.pinimg.com/564x/c8/44/3c/c8443c350a0fa207e56608d7e29ba88a.jpg\",\n    \"https://i.pinimg.com/originals/78/8f/01/788f01cd3b6f12e579e261e753b04a42.jpg\",\n    \"https://i.pinimg.com/564x/4d/b0/24/4db024cc9a08743d713d2f18869f0cbc.jpg\",\n    \"https://i.pinimg.com/564x/e7/45/8b/e7458bd5c12a259ec25a38f85cd961fa.jpg\",\n    \"https://i.pinimg.com/564x/c3/4b/e1/c34be151f30f8846b61fdce0845b218e.jpg\",\n    \"https://i.pinimg.com/564x/b8/2a/74/b82a7472bf8d04f4e060dde71e8449b5.jpg\",\n    \"https://i.pinimg.com/564x/e9/fb/de/e9fbde75eb24431341f06d4fe70ad3b3.jpg\",\n    \"https://i.pinimg.com/564x/67/91/67/6791675473dfc08463daa60ef22ca72d.jpg\",\n    \"https://i.pinimg.com/564x/4d/b0/24/4db024cc9a08743d713d2f18869f0cbc.jpg\",\n    \"https://i.pinimg.com/564x/ad/0f/f1/ad0ff1cd210f02e3020ad307e7d4b70f.jpg\",\n    \"https://i.pinimg.com/564x/d7/29/14/d729140681bfa9faa2a43768eaa3c897.jpg\",\n    \"https://i.pinimg.com/564x/a1/2a/a8/a12aa8fb31279840191eacb0512aef6a.jpg\",\n    \"https://i.pinimg.com/564x/85/b8/b1/85b8b1ece7fcbd870c6b7163fc02018e.jpg\",\n    \"https://i.pinimg.com/564x/df/0c/09/df0c09967d74c081e14adcd8667fa2f9.jpg\",\n    \"https://i.pinimg.com/564x/9a/72/8f/9a728f08e4179712b342167d20364a99.jpg\",\n    \"https://i.pinimg.com/564x/19/26/1f/19261f46683c09b9bd6404dd3fe67cf9.jpg\",\n    \"https://i.pinimg.com/564x/ed/0b/72/ed0b726cdc3c83b54251aa55e2bbe861.jpg\",\n    \"https://i.pinimg.com/564x/11/22/d9/1122d9b0198d9eecaad84bf5b6ca3d66.jpg\",\n    \"https://i.pinimg.com/564x/80/01/28/80012896a137b0e4cd1c6058ca39496d.jpg\",\n    \"https://i.pinimg.com/564x/b0/63/d7/b063d7022d71973b43c9464759641224.jpg\",\n    \"https://i.pinimg.com/564x/9a/72/8f/9a728f08e4179712b342167d20364a99.jpg\",\n    \"https://i.pinimg.com/564x/11/22/d9/1122d9b0198d9eecaad84bf5b6ca3d66.jpg\",\n    \"https://i.pinimg.com/564x/e3/a9/2e/e3a92e964371d63fb452fe1a8d42e183.jpg\",\n    \"https://i.pinimg.com/564x/23/a2/d6/23a2d606d07de55c8838f6ec4bd5a14d.jpg\"\n]\n\nmodule.exports = profileImages"],"sourceRoot":""}